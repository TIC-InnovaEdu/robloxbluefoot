local DataStoreService = game:GetService("DataStoreService")
local puntosDataStore = DataStoreService:GetDataStore("Puntos")

function getPuntosUsuario(jugador)
	return puntosDataStore:GetAsync(jugador.UserId) or 0
end

function setPuntosUsuario(jugador, puntos)
	puntosDataStore:SetAsync(jugador.UserId, puntos)
end

local function comprobarRespuesta(respuestaUsuario, player)
	local preguntaActual = preguntasRespuestas[1] -- Obtén la primera pregunta
	if preguntaActual then
		if preguntaActual.respuesta == respuestaUsuario then
			-- Respuesta correcta
			print("¡Respuesta correcta!")
			-- Añade el punto al usuario
			local puntos = getPuntosUsuario(player)
			setPuntosUsuario(player, puntos + 1)
		else
			-- Respuesta incorrecta
			print("Respuesta incorrecta.")
		end
		-- Elimina la pregunta respondida y muestra la siguiente
		table.remove(preguntasRespuestas, 1)
		actualizarPantalla()
	end
end

local function actualizarPantalla()
	local preguntaActual = preguntasRespuestas[1]
	if preguntaActual then
		textLabel.Text = preguntaActual.pregunta
	else
		textLabel.Text = "No hay más preguntas."
	end
end